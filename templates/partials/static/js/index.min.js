webpackJsonp([0],[,function(e,i,t){"use strict";t(2)},function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,i){for(var t=0;t<i.length;t++){var s=i[t];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(i,t,s){return t&&e(i.prototype,t),s&&e(i,s),i}}();var a=i.Common=function(){function e(){!function(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this,e),this.$nav=$(".nav"),this.$burger=$(".burger"),this.$backdrop=$(".backdrop"),this.jsMatrix=document.querySelectorAll(".js-matrix"),this.artistsBlock=$(".js-artists"),this.$mainIframeVideo=$(".js-rnd-video"),this.init()}return s(e,[{key:"navigation",value:function(){var e=this;window.innerWidth>960?(this.$burger.hover(function(i){return e.$burger.addClass("open")},function(i){return e.$burger.removeClass("open")}),this.$nav.hover(function(i){return e.$burger.addClass("open")},function(i){return e.$burger.removeClass("open")})):this.$burger.click(function(i){e.$burger.hasClass("open")?(e.$burger.removeClass("open"),e.$backdrop.removeClass("active")):(e.$burger.addClass("open"),e.$backdrop.addClass("active"))})}},{key:"artistsBlockInit",value:function(){if(this.artistsBlock){var e=this.artistsBlock.find(".js-artists-preview"),i=this.artistsBlock.find(".js-artists-names");i.hover(function(){var t=$(this),s=t.data("num");i.removeClass("active"),t.addClass("active"),e.removeClass("active"),e.eq("active"),e.filter(function(){return $(this).data("num")==s}).addClass("active")})}}},{key:"initPreviewSlider",value:function(){var e=(window.innerWidth-620)/2,i=$(".js-preview-slider"),t=$(".js-folder-slider"),s=$(".js-all-folders-wrap"),a=void 0,r=void 0;if(i.length&&(r=new Swiper(".js-preview-slider",{direction:"horizontal",slidesPerView:1,spaceBetween:e,speed:700,centeredSlides:!0,slideToClickedSlide:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination"},on:{init:function(){(a=i.find(".swiper-slide")).eq(this.activeIndex).addClass("o-active")},click:function(){var e=this;this.clickedIndex+1>0&&(a.removeClass("o-active"),setTimeout(function(){e.clickedSlide.classList.add("o-active")},200))},slideChange:function(){a.removeClass("o-active");var e=this.activeIndex;setTimeout(function(){a.eq(e).addClass("o-active")},200)}},breakpoints:{600:{slidesPerView:1,spaceBetween:20,slidesOffsetBefore:10,slidesOffsetAfter:10,centeredSlides:!0},760:{slidesPerView:1,slidesPerColumn:1,centeredSlides:!0},960:{slidesPerView:3,slidesPerColumn:2,spaceBetween:18,slidesOffsetBefore:0,slidesOffsetAfter:0,centeredSlides:!1}}}),$(".preview-slider__media").click(function(){var e=$(this),i=parseInt(e.data("num")),a=e.closest(".swiper-slide");i>0&&a.hasClass("o-active")&&(s.addClass("active"),t.removeClass("active").filter(function(){return $(this).data("num")==i}).addClass("active"))}),t.each(function(e,i){new Swiper(i,{direction:"horizontal",slidesPerView:1,spaceBetween:20,speed:700,centeredSlides:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}})}),$(".js-close-folder").click(function(){s.removeClass("active"),t.removeClass("active")})),document.querySelector("[data-page='works']")){var n=new URL(location.href),o=new URLSearchParams(n.search).get("vnum");o&&r.slideTo(o-1)}}},{key:"initVimeoVideos",value:function(){}},{key:"randomVideoInit",value:function(){var e=["wild-dance.mp4","bit-beach.mp4","kryla.mp4","always beautiful.mp4"],i="static/video/"+e[Math.floor(Math.random()*e.length)];this.$mainIframeVideo.attr("src",i)}},{key:"clipsInit",value:function(){var e=document.querySelector(".js-clips-block");if(e){var i=e.querySelectorAll(".js-clip-wrapper"),t=e.querySelectorAll(".js-clip-wrapper video"),s=document.querySelectorAll(".js-clip-controls .js-clip-ctrl"),a=t.length,r=t[0],n=r;t.forEach(function(e,r){e.addEventListener("ended",function(e){var o=(r+1)%a,l=t[o];n=l,l&&l.play&&(s[o].classList.add("active"),i[o].classList.add("active"),l.play(),s[r].classList.remove("active"),i[r].classList.remove("active"))})}),s.forEach(function(e){e.addEventListener("click",function(r){r.preventDefault();var o=e.dataset.controlNum,l=n.dataset.clipNum;if(o)if(l===o)n.currentTime=0,n.play();else{var c=o%a,d=t[c];d&&d.play&&(s[c].classList.add("active"),i[c].classList.add("active"),d.play(),n.pause(),n.currentTime=0,s[l].classList.remove("active"),i[l].classList.remove("active"),n=d)}})}),r&&r.play&&r.play()}}},{key:"matrixStyleRounding",value:function(e){if(e)for(var i=0;i<e.length;++i){var t=e[i];t.style.transform="";var s=getComputedStyle(t).transform;s=s.slice(7,-1).split(" ").map(function(e){return parseInt(e)}),t.style.transform="matrix("+s.join(",")+")"}}},{key:"init",value:function(){this.navigation(),this.artistsBlockInit(),this.initPreviewSlider(),this.clipsInit()}}]),e}();i.default=new a}],[1]);