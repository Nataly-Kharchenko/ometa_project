{"version":3,"sources":["webpack:///./src/js/index.js","webpack:///./src/js/components/Common.js"],"names":["Common","$nav","$","$burger","$backdrop","jsMatrix","document","querySelectorAll","artistsBlock","$mainIframeVideo","init","window","innerWidth","hover","addClass","removeClass","click","hasClass","artistsPreview","find","artistsNamesList","$self","dataNum","data","eq","filter","slideWidth","nextVisibleWidth","spaceBetween","$previewSlider","$foldersSliders","$allFoldersWrap","$allSlides","length","Swiper","direction","slidesPerView","speed","centeredSlides","slideToClickedSlide","navigation","nextEl","prevEl","on","activeIndex","clickedIndex","setTimeout","clickedSlide","classList","add","slideChange","breakpoints","parseInt","$slide","closest","each","i","el","initSlider","selectorOrHtmlEl","vimeoVideosIds","rndVimoeId","Math","floor","random","fullPathToVideo","attr","console","log","inObj","tmpObj","style","transform","matrix","getComputedStyle","slice","split","map","item","join","artistsBlockInit","initPreviewSlider","initVimeoVideos"],"mappings":";;;;;;AAAa;;AAEb;;;;;;AAMA;;AACA,uB;;;;;;;;;;;;;;;;;ACTA;;;;;;IAMaA,M,WAAAA,M;AACX;;;AAGA,oBAAc;AAAA;;AACZ;AACA,SAAKC,IAAL,GAAYC,EAAE,MAAF,CAAZ;AACA,SAAKC,OAAL,GAAeD,EAAE,SAAF,CAAf;AACA,SAAKE,SAAL,GAAiBF,EAAE,WAAF,CAAjB;AACA,SAAKG,QAAL,GAAgBC,SAASC,gBAAT,CAA0B,YAA1B,CAAhB;;AAEA,SAAKC,YAAL,GAAoBN,EAAE,aAAF,CAApB;AACA,SAAKO,gBAAL,GAAwBP,EAAE,eAAF,CAAxB;;AAEA;AACA,SAAKQ,IAAL;;AAEA;AACA;AACA;AACD;;AAED;;;;;;;iCAGc;AAAA;;AAEZ,UAAIC,OAAOC,UAAP,GAAoB,GAAxB,EAA6B;AAC3B,aAAKT,OAAL,CAAaU,KAAb,CAAmB;AAAA,iBAAK,MAAKV,OAAL,CAAaW,QAAb,CAAsB,MAAtB,CAAL;AAAA,SAAnB,EAAuD;AAAA,iBAAK,MAAKX,OAAL,CAAaY,WAAb,CAAyB,MAAzB,CAAL;AAAA,SAAvD;AACA,aAAKd,IAAL,CAAUY,KAAV,CAAgB;AAAA,iBAAK,MAAKV,OAAL,CAAaW,QAAb,CAAsB,MAAtB,CAAL;AAAA,SAAhB,EAAoD;AAAA,iBAAK,MAAKX,OAAL,CAAaY,WAAb,CAAyB,MAAzB,CAAL;AAAA,SAApD;AACD,OAHD,MAGO;AACL,aAAKZ,OAAL,CAAaa,KAAb,CAAmB,aAAK;AACtB,cAAI,MAAKb,OAAL,CAAac,QAAb,CAAsB,MAAtB,CAAJ,EAAmC;AACjC,kBAAKd,OAAL,CAAaY,WAAb,CAAyB,MAAzB;AACA,kBAAKX,SAAL,CAAeW,WAAf,CAA2B,QAA3B;AACD,WAHD,MAGO;AACL,kBAAKZ,OAAL,CAAaW,QAAb,CAAsB,MAAtB;AACA,kBAAKV,SAAL,CAAeU,QAAf,CAAwB,QAAxB;AACD;AACF,SARD;AASD;AAEF;;;uCAEmB;AAClB,UAAI,KAAKN,YAAT,EAAuB;AACrB,YAAIU,iBAAiB,KAAKV,YAAL,CAAkBW,IAAlB,CAAuB,qBAAvB,CAArB;AACA,YAAIC,mBAAmB,KAAKZ,YAAL,CAAkBW,IAAlB,CAAuB,mBAAvB,CAAvB;;AAEAC,yBAAiBP,KAAjB,CAAuB,YAAY;AACjC,cAAIQ,QAAQnB,EAAE,IAAF,CAAZ;AACA,cAAIoB,UAAUD,MAAME,IAAN,CAAW,KAAX,CAAd;AACAH,2BAAiBL,WAAjB,CAA6B,QAA7B;AACAM,gBAAMP,QAAN,CAAe,QAAf;;AAEAI,yBAAeH,WAAf,CAA2B,QAA3B;AACAG,yBAAeM,EAAf,CAAkB,QAAlB;;AAEAN,yBAAeO,MAAf,CAAsB,YAAW;AAC/B,mBAAOvB,EAAE,IAAF,EAAQqB,IAAR,CAAa,KAAb,KAAuBD,OAA9B;AACD,WAFD,EAEGR,QAFH,CAEY,QAFZ;AAGD,SAZD;AAaD;AACF;;;wCAEoB;AACnB,UAAIY,aAAa,GAAjB;AACA,UAAIC,mBAAmB,EAAvB;AACA,UAAIC,eAAe,CAACjB,OAAOC,UAAP,GAAoBc,UAArB,IAAmC,CAAtD;AACA,UAAIG,iBAAiB3B,EAAE,oBAAF,CAArB;AACA,UAAI4B,kBAAkB5B,EAAE,mBAAF,CAAtB;AACA,UAAI6B,kBAAkB7B,EAAE,sBAAF,CAAtB;AACA,UAAI8B,mBAAJ;;AAEA,UAAIH,eAAeI,MAAnB,EAA2B;AACzB,YAAIC,MAAJ,CAAW,oBAAX,EAAiC;AAC/BC,qBAAW,YADoB;AAE/BC,yBAAe,CAFgB;AAG/BR,wBAAcA,YAHiB;AAI/BS,iBAAO,GAJwB;AAK/BC,0BAAgB,IALe;AAM/BC,+BAAqB,IANU;;AAQ/BC,sBAAY;AACVC,oBAAQ,qBADE;AAEVC,oBAAQ;AAFE,WARmB;AAY/BC,cAAI;AACFjC,kBAAM,gBAAY;AAChBsB,2BAAaH,eAAeV,IAAf,CAAoB,eAApB,CAAb;AACAa,yBAAWR,EAAX,CAAc,KAAKoB,WAAnB,EAAgC9B,QAAhC,CAAyC,UAAzC;AACD,aAJC;AAKFE,mBAAO,iBAAY;AAAA;;AACjB,kBAAI6B,eAAe,KAAKA,YAAL,GAAoB,CAAvC;;AAEA,kBAAIA,eAAe,CAAnB,EAAsB;AACpBb,2BAAWjB,WAAX,CAAuB,UAAvB;AACA+B,2BAAW,YAAM;AACf,yBAAKC,YAAL,CAAkBC,SAAlB,CAA4BC,GAA5B,CAAgC,UAAhC;AACD,iBAFD,EAEG,GAFH;AAGD;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD,aAxBC;AAyBFC,yBAAa,uBAAY;AACvBlB,yBAAWjB,WAAX,CAAuB,UAAvB;AACA,kBAAI6B,cAAc,KAAKA,WAAvB;;AAEAE,yBAAW,YAAM;AACfd,2BAAWR,EAAX,CAAcoB,WAAd,EAA2B9B,QAA3B,CAAoC,UAApC;AACD,eAFD,EAEG,GAFH;AAGD;AAhCC,WAZ2B;;AA+C/BqC,uBAAa;AACX;AACA,iBAAK;AACHf,6BAAe,CADZ;AAEHR,4BAAc;AAFX;AAFM;AA/CkB,SAAjC;;AAwDA1B,UAAE,wBAAF,EAA4Bc,KAA5B,CAAkC,YAAY;AAC5C,cAAIK,QAAQnB,EAAE,IAAF,CAAZ;AACA,cAAI2C,eAAeO,SAAS/B,MAAME,IAAN,CAAW,KAAX,CAAT,CAAnB;AACA,cAAI8B,SAAShC,MAAMiC,OAAN,CAAc,eAAd,CAAb;;AAEA,cAAIT,eAAe,CAAf,IAAoBQ,OAAOpC,QAAP,CAAgB,UAAhB,CAAxB,EAAqD;AACnDc,4BAAgBjB,QAAhB,CAAyB,QAAzB;;AAEAgB,4BACGf,WADH,CACe,QADf,EAEGU,MAFH,CAEU,YAAY;AAClB,qBAAOvB,EAAE,IAAF,EAAQqB,IAAR,CAAa,KAAb,KAAuBsB,YAA9B;AACD,aAJH,EAIK/B,QAJL,CAIc,QAJd;AAKD;AACF,SAdD;;AAgBAgB,wBAAgByB,IAAhB,CAAqB,UAAUC,CAAV,EAAaC,EAAb,EAAiB;AACpCC,qBAAWD,EAAX;AACD,SAFD;;AAIAvD,UAAE,kBAAF,EAAsBc,KAAtB,CAA4B,YAAY;AACtCe,0BAAgBhB,WAAhB,CAA4B,QAA5B;AACAe,0BAAgBf,WAAhB,CAA4B,QAA5B;AACD,SAHD;AAID;;AAED,eAAS2C,UAAT,CAAqBC,gBAArB,EAAuC;AACrC,YAAIzB,MAAJ,CAAYyB,gBAAZ,EAA8B;AAC5BxB,qBAAW,YADiB;AAE5BC,yBAAe,CAFa;AAG5BR,wBAAc,EAHc;AAI5BS,iBAAO,GAJqB;AAK5BC,0BAAgB,IALY;AAM5BE,sBAAY;AACVC,oBAAQ,qBADE;AAEVC,oBAAQ;AAFE;AANgB,SAA9B;AAWD;AACF;;;sCAEkB;AACjB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD;;;sCAEiB;AAChB,UAAIkB,iBAAiB,CACnB,gBADmB,EAEnB,eAFmB,EAGnB,WAHmB,EAInB,sBAJmB,CAArB;;AAOA,UAAIC,aAAaD,eAAeE,KAAKC,KAAL,CAAWD,KAAKE,MAAL,KAAgBJ,eAAe3B,MAA1C,CAAf,CAAjB;AACA;AACA;AACA,UAAIgC,kBAAkB,kBAAkBJ,UAAxC;;AAEA,WAAKpD,gBAAL,CAAsByD,IAAtB,CAA2B,KAA3B,EAAkCD,eAAlC;;AAEAE,cAAQC,GAAR,CAAY,iBAAZ,EAA+BH,eAA/B;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD;;AAED;;;;wCACoBI,K,EAAO;AACzB,UAAIA,KAAJ,EAAW;AACT,aAAK,IAAIb,IAAI,CAAb,EAAgBA,IAAIa,MAAMpC,MAA1B,EAAkC,EAAEuB,CAApC,EAAuC;AACrC,cAAMc,SAASD,MAAMb,CAAN,CAAf;AACAc,iBAAOC,KAAP,CAAaC,SAAb,GAAyB,EAAzB;AACA,cAAIC,SAASC,iBAAiBJ,MAAjB,EAAyBE,SAAtC;AACAC,mBAASA,OAAOE,KAAP,CAAa,CAAb,EAAgB,CAAC,CAAjB,EAAoBC,KAApB,CAA0B,GAA1B,EAA+BC,GAA/B,CAAmC,UAAUC,IAAV,EAAgB;AAC1D,mBAAO1B,SAAS0B,IAAT,CAAP;AACD,WAFQ,CAAT;AAGAR,iBAAOC,KAAP,CAAaC,SAAb,GAAyB,YAAYC,OAAOM,IAAP,CAAY,GAAZ,CAAZ,GAA+B,GAAxD;AACD;AACF;AACF;;AAED;;;;;;2BAGQ;AACN;AACA,WAAKvC,UAAL;AACA,WAAKwC,gBAAL;AACA,WAAKC,iBAAL;AACA,WAAKC,eAAL;AACD;;;;;;AAGH;;;kBACe,IAAIlF,MAAJ,E","file":"js/index.js","sourcesContent":["'use strict';\r\n\r\n/**\r\n * App entry point.\r\n *\r\n * @module App\r\n */\r\n\r\n/** Import initialized-by-default modules/libs */\r\nimport './components/Common';\r\n// import './components/PublicAPI';\r\n\r\n/** Import page controllers */\r\n// import Home from './pages/Home';\r\n\r\n// import { currentPage } from './modules/dev/_helpers';\r\n\r\n/**\r\n * Run appropriate scripts for each page.\r\n **/\r\n// switch (currentPage) {\r\n  /** Home page */\r\n  // case 'home': new Home; break;\r\n\r\n  /** No page found */\r\n  // default: console.warn('Undefined page');\r\n// }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/index.js","/**\r\n * Website's common scripts.\r\n *\r\n * @module Common\r\n */\r\n\r\nexport class Common {\r\n  /**\r\n   * Cache data, make preparations and initialize common scripts.\r\n   */\r\n  constructor() {\r\n    // cache data, make preparations etc.\r\n    this.$nav = $('.nav');\r\n    this.$burger = $('.burger');\r\n    this.$backdrop = $('.backdrop');\r\n    this.jsMatrix = document.querySelectorAll('.js-matrix');\r\n\r\n    this.artistsBlock = $('.js-artists');\r\n    this.$mainIframeVideo = $('.js-rnd-video');\r\n\r\n    // initialize after construction\r\n    this.init();\r\n\r\n    // window.addEventListener('resize', () => {\r\n    //   this.matrixStyleRounding(this.jsMatrix);\r\n    // });\r\n  }\r\n\r\n  /**\r\n   * Example method.\r\n   */\r\n  navigation () {\r\n\r\n    if (window.innerWidth > 450) {\r\n      this.$burger.hover(_ => this.$burger.addClass('open'), _ => this.$burger.removeClass('open'));\r\n      this.$nav.hover(_ => this.$burger.addClass('open'), _ => this.$burger.removeClass('open'));\r\n    } else {\r\n      this.$burger.click(_ => {\r\n        if (this.$burger.hasClass('open')) {\r\n          this.$burger.removeClass('open');\r\n          this.$backdrop.removeClass('active');\r\n        } else {\r\n          this.$burger.addClass('open');\r\n          this.$backdrop.addClass('active');\r\n        }\r\n      });\r\n    }\r\n\r\n  };\r\n\r\n  artistsBlockInit () {\r\n    if (this.artistsBlock) {\r\n      let artistsPreview = this.artistsBlock.find('.js-artists-preview');\r\n      let artistsNamesList = this.artistsBlock.find('.js-artists-names');\r\n\r\n      artistsNamesList.hover(function () {\r\n        let $self = $(this);\r\n        let dataNum = $self.data('num');\r\n        artistsNamesList.removeClass('active');\r\n        $self.addClass('active');\r\n\r\n        artistsPreview.removeClass('active');\r\n        artistsPreview.eq('active');\r\n\r\n        artistsPreview.filter(function() {\r\n          return $(this).data('num') == dataNum;\r\n        }).addClass('active');\r\n      });\r\n    }\r\n  }\r\n\r\n  initPreviewSlider () {\r\n    let slideWidth = 620;\r\n    let nextVisibleWidth = 80;\r\n    let spaceBetween = (window.innerWidth - slideWidth) / 2;\r\n    let $previewSlider = $('.js-preview-slider');\r\n    let $foldersSliders = $('.js-folder-slider');\r\n    let $allFoldersWrap = $('.js-all-folders-wrap');\r\n    let $allSlides;\r\n\r\n    if ($previewSlider.length) {\r\n      new Swiper('.js-preview-slider', {\r\n        direction: 'horizontal',\r\n        slidesPerView: 2,\r\n        spaceBetween: spaceBetween,\r\n        speed: 700,\r\n        centeredSlides: true,\r\n        slideToClickedSlide: true,\r\n\r\n        navigation: {\r\n          nextEl: '.swiper-button-next',\r\n          prevEl: '.swiper-button-prev'\r\n        },\r\n        on: {\r\n          init: function () {\r\n            $allSlides = $previewSlider.find('.swiper-slide');\r\n            $allSlides.eq(this.activeIndex).addClass('o-active');\r\n          },\r\n          click: function () {\r\n            let clickedIndex = this.clickedIndex + 1;\r\n\r\n            if (clickedIndex > 0) {\r\n              $allSlides.removeClass('o-active');\r\n              setTimeout(() => {\r\n                this.clickedSlide.classList.add('o-active');\r\n              }, 200);\r\n            }\r\n\r\n            // let clickedIndex = this.clickedIndex + 1;\r\n            // if (clickedIndex > 0 && this.clickedSlide.classList.contains('swiper-slide-active')) {\r\n            //   $allFoldersWrap.addClass('active');\r\n            //   $foldersSliders\r\n            //     .removeClass('active')\r\n            //     .filter(function () {\r\n            //       return $(this).data('num') == clickedIndex;\r\n            //     }).addClass('active');\r\n            // }\r\n          },\r\n          slideChange: function () {\r\n            $allSlides.removeClass('o-active');\r\n            let activeIndex = this.activeIndex;\r\n\r\n            setTimeout(() => {\r\n              $allSlides.eq(activeIndex).addClass('o-active');\r\n            }, 200);\r\n          }\r\n        },\r\n\r\n        breakpoints: {\r\n          // when window width is <= 450\r\n          450: {\r\n            slidesPerView: 1,\r\n            spaceBetween: 20\r\n          }\r\n        }\r\n      });\r\n\r\n      $('.preview-slider__media').click(function () {\r\n        let $self = $(this);\r\n        let clickedIndex = parseInt($self.data('num'));\r\n        let $slide = $self.closest('.swiper-slide');\r\n\r\n        if (clickedIndex > 0 && $slide.hasClass('o-active')) {\r\n          $allFoldersWrap.addClass('active');\r\n\r\n          $foldersSliders\r\n            .removeClass('active')\r\n            .filter(function () {\r\n              return $(this).data('num') == clickedIndex;\r\n            }).addClass('active');\r\n        }\r\n      });\r\n\r\n      $foldersSliders.each(function (i, el) {\r\n        initSlider(el);\r\n      });\r\n\r\n      $('.js-close-folder').click(function () {\r\n        $allFoldersWrap.removeClass('active');\r\n        $foldersSliders.removeClass('active');\r\n      });\r\n    }\r\n\r\n    function initSlider (selectorOrHtmlEl) {\r\n      new Swiper (selectorOrHtmlEl, {\r\n        direction: 'horizontal',\r\n        slidesPerView: 1,\r\n        spaceBetween: 20,\r\n        speed: 700,\r\n        centeredSlides: true,\r\n        navigation: {\r\n          nextEl: '.swiper-button-next',\r\n          prevEl: '.swiper-button-prev'\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  initVimeoVideos () {\r\n    // $('.js-vimeo-video').\r\n\r\n    // $('.js-vimeo-video').mouseover(function() {\r\n    //   var player = $(\"#\" + this.id);\r\n    //   var froogaloop = $f(player[0].id);\r\n    //\r\n    //   froogaloop.addEvent('ready', function(e) {\r\n    //     e.preventDefault();\r\n    //     console.log('$f = ', froogaloop);\r\n    //\r\n    //     froogaloop.api('play');\r\n    //     player.mouseout(function () {\r\n    //       froogaloop.api('pause');\r\n    //     });\r\n    //   }\r\n    // });\r\n  }\r\n\r\n  randomVideoInit() {\r\n    let vimeoVideosIds = [\r\n      'wild-dance.mp4',\r\n      'bit-beach.mp4',\r\n      'kryla.mp4',\r\n      'always beautiful.mp4',\r\n    ];\r\n\r\n    var rndVimoeId = vimeoVideosIds[Math.floor(Math.random() * vimeoVideosIds.length)];\r\n    // var fullPathToVideo = 'https://player.vimeo.com/video/' + rndVimoeId + '?background=1&autoplay=1&loop=1&byline=0&title=0&controls=0';\r\n    // var fullPathToVideo = 'https://player.vimeo.com/video/' + rndVimoeId + '?background=1&autoplay=1&loop=1&byline=0&title=0&controls=0';\r\n    var fullPathToVideo = 'static/video/' + rndVimoeId;\r\n\r\n    this.$mainIframeVideo.attr('src', fullPathToVideo);\r\n\r\n    console.log('fullPathToVideo', fullPathToVideo);\r\n\r\n    // var iframe = document.querySelector('#js-rnd-video');\r\n    // var player = new Vimeo.Player(iframe);\r\n\r\n    // player.on('play', function() {\r\n    //   console.log('Played the video');\r\n    // });\r\n    //\r\n    // player.play();\r\n    // player.disableTextTrack();\r\n    // player.setVolume(0);\r\n    //\r\n    // Promise.all([player.getVideoWidth(), player.getVideoHeight()]).then((dimensions) => {\r\n    //   var width = dimensions[0];\r\n    //   var height = dimensions[1];\r\n    //\r\n    //   this.$mainIframeVideo.css('height', (height / width * 100).toFixed(2) + 'vw');\r\n    //   this.$mainIframeVideo.css('min-width', (width / height * 100).toFixed(2) + 'vh');\r\n    // });\r\n  }\r\n\r\n  // recalc matrix (округление значений к integer)\r\n  matrixStyleRounding(inObj) {\r\n    if (inObj) {\r\n      for (let i = 0; i < inObj.length; ++i) {\r\n        const tmpObj = inObj[i];\r\n        tmpObj.style.transform = '';\r\n        let matrix = getComputedStyle(tmpObj).transform;\r\n        matrix = matrix.slice(7, -1).split(' ').map(function (item) {\r\n          return parseInt(item);\r\n        });\r\n        tmpObj.style.transform = 'matrix(' + matrix.join(',') + ')';\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Initialize common scripts.\r\n   */\r\n  init () {\r\n    // this.randomVideoInit();\r\n    this.navigation();\r\n    this.artistsBlockInit();\r\n    this.initPreviewSlider();\r\n    this.initVimeoVideos();\r\n  }\r\n}\r\n\r\n/** Export initialized common scripts by default */\r\nexport default new Common();\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/components/Common.js"],"sourceRoot":""}